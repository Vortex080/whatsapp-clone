<div
    class="md:mt-10 md:mr-10 flex flex-col h-[100vh] md:h-[90vh] border border-gray-300 md:rounded-tr-lg md:rounded-br-lg md:rounded-lg lg:rounded-none">
    <div class="flex py-3 pl-4 text-left bg-gray-100 md:rounded-lg px text-whit item-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24">
            <path fill="currentColor"
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88a9.95 9.95 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20" />
        </svg>
        <h2 class="pt-2 pl-3">Chat</h2>
    </div>
    <div class="flex-1 p-4 overflow-y-auto">

        @if (this.chatmessages()?.length ?? 0) {
        @for (message of this.chatmessages() || []; track message) {
        @if (message.idAuthor === this.ownuser()?.id) {
        <div class="chat chat-end">
            <div class="chat-header">
                <time class="text-xs opacity-50">{{ message.date }}</time>
            </div>
            <div class="chat-bubble">{{ message.text }}</div>
        </div>
        } @else {
        <div class="chat chat-start">
            <div class="chat-header">
                <time class="text-xs opacity-50">{{ message.date }}</time>
            </div>
            <div class="chat-bubble">{{ message.text }}</div>
        </div>
        }
        }
        }

    </div>
    <div class="flex p-4 border-t border-gray-300">
        <input type="text" placeholder="Escribe un mensaje..." [(ngModel)]="text"
            class="flex-1 p-2 border border-gray-300 rounded-lg" (keyup.enter)="enviarMensaje()" />
        <button class="ml-5 btn btn-primary" (click)="enviarMensaje()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path fill="currentColor" d="M2.01 21L23 12L2.01 3L2 10l15 2l-15 2z" />
            </svg>
        </button>
    </div>
</div>
